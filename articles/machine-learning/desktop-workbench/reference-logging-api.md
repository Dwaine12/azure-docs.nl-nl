---
title: Azure ML logboekregistratie API-naslaginformatie | Microsoft Docs
description: Logboekregistratie van API-verwijzing.
services: machine-learning
author: akshaya-a
ms.author: akannava
manager: mwinkle
ms.reviewer: garyericson, jasonwhowell, mldocs
ms.service: machine-learning
ms.component: core
ms.workload: data-services
ms.topic: article
ms.date: 09/25/2017
ROBOTS: NOINDEX
ms.openlocfilehash: 7084251102984445e7c2341b78b44f85811ebea7
ms.sourcegitcommit: 32d218f5bd74f1cd106f4248115985df631d0a8c
ms.translationtype: MT
ms.contentlocale: nl-NL
ms.lasthandoff: 09/24/2018
ms.locfileid: "46958217"
---
# <a name="logging-api-reference"></a>Logboekregistratie van API-verwijzing

[!INCLUDE [workbench-deprecated](../../../includes/aml-deprecating-preview-2017.md)] 

Azure ML-bibliotheek voor logboekregistratie kunt het programma om te verzenden van metrische gegevens en bestanden die worden bijgehouden door de geschiedenisservice voor latere analyse. 

## <a name="uploading-metrics"></a>Metrische gegevens uploaden

```python
# import logging API package
from azureml.logging import get_azureml_logger

# initialize a logger object
logger = get_azureml_logger()

# log "scalar" metrics
logger.log("simple integer value", 7)
logger.log("simple float value", 3.141592)
logger.log("simple string value", "this is a string metric")

# log a list of numerical values. 
# this automatically creates a chart in the Run History details page
logger.log("chart data points", [1, 3, 5, 10, 6, 4])
```

Standaard worden alle metrische gegevens asynchroon verzonden zodat het verzenden van de programma-uitvoering niet belemmeren. Als meerdere metrische gegevens in de randgevallen worden verzonden, kan dit bestellen problemen veroorzaken. Een voorbeeld hiervan is twee metrische gegevens die zijn aangemeld op hetzelfde moment, maar om een bepaalde reden dat de gebruiker het liefst hun exacte volgorde worden bewaard. Een andere aanvraag is wanneer de metrische gegevens moet worden bijgehouden, voordat u met code die bekend is dat mogelijk snel mislukken. In beide gevallen wordt de oplossing is _wacht_ totdat de metrische gegevens volledig worden geregistreerd voordat u doorgaat:

```python
# blocking call
logger.log("my metric 1", 1).wait()
logger.log("my metric 2", 2).wait()
```

## <a name="consuming-metrics"></a>Metrische gegevens verbruikt

De metrische gegevens worden opgeslagen met de geschiedenisservice en gekoppeld aan het uitvoeren die ze heeft geproduceerd. Het tabblad Geschiedenis uitvoeren en de CLI-opdracht hieronder kunnen u ze (en onderstaande artefacten) ophalen nadat een uitvoering is voltooid.

```azurecli
# show the last run
$ az ml history last

# list all past runs
$ az ml history list 

# show a paritcular run
$ az ml history info -r <runid>
```

## <a name="artifacts-files"></a>Artefacten (bestanden)

Naast de metrische gegevens kan AzureML de gebruiker ook bestanden bijhouden. Standaard worden alle bestanden die worden weggeschreven naar de `outputs` map ten opzichte van de werkmap van het programma (de projectmap in de compute-context) worden ge√ºpload naar de geschiedenisservice en bijgehouden voor latere analyse. Het nadeel is dat de individuele bestandsgrootte kleiner zijn dan 512 MB moet.


```Python
# Log content as an artifact
logger.upload("artifact/path", "This should be the contents of artifact/path in the service")
```

## <a name="consuming-artifacts"></a>Artefacten verbruikt

Als u wilt afdrukken van de inhoud van een artefact dat is getraceerd, gebruiker het tabblad Geschiedenis uitvoeren kunt gebruiken voor de opgegeven uitvoering voor **downloaden** of **opwaarderen** het artefact, of gebruik de volgende CLI-opdrachten waarmee u hetzelfde resultaat bereiken.

```azurecli
# show all artifacts generated by a run
$ az ml history info -r <runid> -a <artifact/path>

# promote a particular artifact
$ az ml history promote -r <runid> -ap <artifact/prefix> -n <name of asset to create>
```
## <a name="next-steps"></a>Volgende stappen
- Doorloop de [classificeren van iris tutoria deel 2](tutorial-classifying-iris-part-2.md) API voor logboekregistratie in actie zien.
- Beoordeling [gebruik Uitvoeringsgeschiedenis en metrische gegevens van Model in Azure Machine Learning Workbench](how-to-use-run-history-model-metrics.md) beter begrijpen hoe logboekregistratie van API's kan worden gebruikt in de geschiedenis uitvoeren.
